import { ref, readonly } from 'vue';
import { pagesData } from './pagesData';
const pageDataEmpty = readonly({
    key: '',
    path: '',
    title: '',
    lang: '',
    frontmatter: {},
    excerpt: '',
    headers: [],
});
export const pageData = ref(pageDataEmpty);
export const usePageData = () => {
    return pageData;
};
export const resolvePageData = async (routePath) => {
    const pageDataResolver = pagesData.value[routePath];
    if (!pageDataResolver) {
        return pageDataEmpty;
    }
    const pageData = await pageDataResolver();
    return pageData !== null && pageData !== void 0 ? pageData : pageDataEmpty;
};
if (import.meta.webpackHot || import.meta.hot) {
    // reuse vue HMR runtime
    __VUE_HMR_RUNTIME__.updatePageData = (data) => {
        pagesData.value[data.path] = () => Promise.resolve(data);
        if (data.key === pageData.value.key) {
            pageData.value = data;
        }
    };
}
