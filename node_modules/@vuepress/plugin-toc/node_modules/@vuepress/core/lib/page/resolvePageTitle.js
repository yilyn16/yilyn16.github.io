"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.resolvePageTitle = void 0;
const markdown_1 = require("@vuepress/markdown");
const shared_1 = require("@vuepress/shared");
/**
 * Resolve page title from frontmatter / file content
 */
const resolvePageTitle = ({ content, frontmatter, headers, }) => {
    // use title in frontmatter
    if (shared_1.isString(frontmatter.title)) {
        return markdown_1.parseEmoji(frontmatter.title);
    }
    // if the first header is <h1>, use it as the title
    const firstHeader = headers[0];
    if ((firstHeader === null || firstHeader === void 0 ? void 0 : firstHeader.level) === 1) {
        return firstHeader.title;
    }
    // try to get the first `# title` from markdown content
    const matchTitle = content.trimStart().match(/^#\s+(.*)/);
    if (matchTitle) {
        return markdown_1.parseEmoji(matchTitle[1]);
    }
    return '';
};
exports.resolvePageTitle = resolvePageTitle;
