{"remainingRequest":"/Users/yanglin/study/lyn/blog/yilyn16.github.io/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/yanglin/study/lyn/blog/yilyn16.github.io/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!/Users/yanglin/study/lyn/blog/yilyn16.github.io/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/yanglin/study/lyn/blog/yilyn16.github.io/node_modules/vue-loader/lib/index.js??ref--1-1!/Users/yanglin/study/lyn/blog/yilyn16.github.io/node_modules/@vuepress/markdown-loader/index.js??ref--1-2!/Users/yanglin/study/lyn/blog/yilyn16.github.io/docs/databases/mysql/一条数据的写入流程.md?vue&type=template&id=9c3f57fe&","dependencies":[{"path":"/Users/yanglin/study/lyn/blog/yilyn16.github.io/docs/databases/mysql/一条数据的写入流程.md","mtime":1687244196600},{"path":"/Users/yanglin/study/lyn/blog/yilyn16.github.io/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglin/study/lyn/blog/yilyn16.github.io/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglin/study/lyn/blog/yilyn16.github.io/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/yanglin/study/lyn/blog/yilyn16.github.io/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/Users/yanglin/study/lyn/blog/yilyn16.github.io/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglin/study/lyn/blog/yilyn16.github.io/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yanglin/study/lyn/blog/yilyn16.github.io/node_modules/@vuepress/markdown-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIHJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHsKICB2YXIgX3ZtID0gdGhpcywKICAgIF9jID0gX3ZtLl9zZWxmLl9jOwogIHJldHVybiBfYygnQ29udGVudFNsb3RzRGlzdHJpYnV0b3InLCB7CiAgICBhdHRyczogewogICAgICAic2xvdC1rZXkiOiBfdm0uJHBhcmVudC5zbG90S2V5CiAgICB9CiAgfSwgW19jKCdoMScsIHsKICAgIGF0dHJzOiB7CiAgICAgICJpZCI6ICLkuIDmnaHmlbDmja7mmK/lpoLkvZXlhpnlhaXnmoQiCiAgICB9CiAgfSwgW19jKCdhJywgewogICAgc3RhdGljQ2xhc3M6ICJoZWFkZXItYW5jaG9yIiwKICAgIGF0dHJzOiB7CiAgICAgICJocmVmIjogIiPkuIDmnaHmlbDmja7mmK/lpoLkvZXlhpnlhaXnmoQiCiAgICB9CiAgfSwgW192bS5fdigiIyIpXSksIF92bS5fdigiIOS4gOadoeaVsOaNruaYr+WmguS9leWGmeWFpeeahCIpXSksIF92bS5fdigiICIpLCBfYygncCcsIFtfdm0uX3YoIklubm9EQuS9nOS4uuS9v+eUqOacgOW5v+eahOS4gOasvuW8leaTju+8jOWcqOS8l+WkmuW8leaTjuS4reWvueWPr+mdoOaAp+WSjOmrmOaAp+iDveS5i+mXtOWBmuS6huW5s+ihoe+8jOWcqOS6i+eJqeaOp+WItuOAgeivu+WGmeaViOeOh+OAgeW5tuWPkeOAgee0ouW8leaQnOe0ouetieaWuemdoumDveacieS4jemUmeeahOihqOeOsOOAgiIpXSksIF92bS5fdigiICIpLCBfYygncCcsIFtfdm0uX3YoIklubm9EQuS9nOS4uuWtmOWCqOW8leaTju+8jOmAmui/h+aJp+ihjOWZqOWvueWGheWtmOWSjOejgeebmOS4reeahOaVsOaNrui/m+ihjOWGmeWFpeWSjOivu+WPlu+8jOacrOeroOS4u+imgeeci+S4gOS4i+aVsOaNruWGmeWFpeeahOi/h+eoi+OAgiIpXSksIF92bS5fdigiICIpLCBfYygnaDInLCB7CiAgICBhdHRyczogewogICAgICAiaWQiOiAi5pWw5o2u5YaZ5YWl5rWB56iLIgogICAgfQogIH0sIFtfYygnYScsIHsKICAgIHN0YXRpY0NsYXNzOiAiaGVhZGVyLWFuY2hvciIsCiAgICBhdHRyczogewogICAgICAiaHJlZiI6ICIj5pWw5o2u5YaZ5YWl5rWB56iLIgogICAgfQogIH0sIFtfdm0uX3YoIiMiKV0pLCBfdm0uX3YoIiDmlbDmja7lhpnlhaXmtYHnqIsiKV0pLCBfdm0uX3YoIiAiKSwgX2MoJ3AnLCBbX2MoJ2ltZycsIHsKICAgIGF0dHJzOiB7CiAgICAgICJzcmMiOiAiL2ltYWdlcy9kYXRhYmFzZXMvJUU2JTk1JUIwJUU2JThEJUFFJUU1JTg2JTk5JUU1JTg1JUE1JUU2JUI1JTgxJUU3JUE4JThCLnBuZyIsCiAgICAgICJhbHQiOiAi5pWw5o2u5YaZ5YWl5rWB56iLIgogICAgfQogIH0pXSksIF92bS5fdigiICIpLCBfYygnb2wnLCBbX2MoJ2xpJywgW192bS5fdigi6YCa6L+HTXlTUUwgU2VydmVy5bGC55qEU1FM5o6l5Y+j5ZKMU1FM6Kej5p6Q5Zmo77yM5bCGU1FM6Kej5p6Q5Li6TXlTUUzog73lpJ/or4bliKvnmoTor63lj6XvvIznlJ/miJDkuIDkuKrop6PmnpDmoJHvvJsiKV0pLCBfdm0uX3YoIiAiKSwgX2MoJ2xpJywgW192bS5fdigi54S25ZCOU1FM5LyY5YyW5Zmo5Lya5a+56L+Z5LiqU1FM6K+t5Y+l6L+b6KGM5LyY5YyW77yM55Sf5oiQ5omn6KGM6K6h5YiS77yM6YCa6L+H5omn6KGM5Zmo5Lyg57uZSW5ub0RC5byV5pOO77ybIildKSwgX3ZtLl92KCIgIiksIF9jKCdsaScsIFtfdm0uX3YoIuW8gOWni+aJp+ihjOWQju+8jOmmluWFiOS4uuS6huiuqeWGmeWFpeaVsOaNruaUr+aMgeWbnua7muaTjeS9nO+8jOmcgOimgeaKiuaXp+eahOWAvOiusOW9leWIsHVuZG8gbG9n5paH5Lu25Lit77ybIildKSwgX3ZtLl92KCIgIiksIF9jKCdsaScsIFtfdm0uX3YoIuWboOS4uk15U1FM5pyA57uI55qE5pWw5o2u6YO95piv5a2Y5Zyo56OB55uY5Lit77yM5L2G5piv5q+P5qyh5YaZ5YWl5aaC5p6c6YO96ZyA6KaB5YaZ5YWl56OB55uY55qE6K+d77yM5pWI546H5bCx5aSq5L2O5LqG77yM5omA5LulSW5ub0RC5bCG5omA5pyJ55qE5YaZ5YWl6K+35rGC6YO95YaZ5Yiw5YaF5a2Y5Lit55qEQnVmZmVyIFBvb2zkuK3vvJsiKV0pLCBfdm0uX3YoIiAiKSwgX2MoJ2xpJywgW192bS5fdigiSW5ub0RCIOS8muacieWNleeLrOeahElP57q/56iL5bCGIEJ1ZmZlciBQb29sIOS4reeahOaVsOaNruivu+WPluWHuuadpe+8jOeEtuWQjuWGmeWFpeejgeebmO+8jOi/meS4quWGmeWFpeejgeebmOeahOi/h+eoi+aYr+mAmui/h+aTjeS9nOezu+e7n+eahG9wZW4rd3JpdGXlh73mlbDlhpnlhaXno4Hnm5jnmoQgLmlkYiDmlofku7bvvJsiKV0pLCBfdm0uX3YoIiAiKSwgX2MoJ2xpJywgW192bS5fdigi5aaC5p6c5Yia5YaZ5YWlQnVmZmVyIFBvb2zvvIxNeVNRTOacjeWKoeWuleacuuS6hu+8jOmCo+S5iOWImuWGmeWFpUJ1ZmZlciBQb29s55qE5pWw5o2u5bCx5Lii5LqG77yM5aaC5L2V6Kej5Yaz6L+Z5Liq6Zeu6aKY77yM5q2k5pe2UmVkbyBMb2flsLHmtL7kuIrnlKjlnLrkuoYiKV0pLCBfdm0uX3YoIiAiKSwgX2MoJ2xpJywgW192bS5fdigi5b2T5pWw5o2u5YaZ5YWlQnVmZmVyIFBvb2zlrozmiJDkuYvlkI7vvIzlnKhJbm5vRELlvJXmk47kuK3lsIbmnKzmrKHnmoTmlbDmja7or7fmsYLlhpnlhaVSZWRvIExvZyBCdWZmZXLvvIzlho3nlLFSZWRvIExvZyBCdWZmZXLliLflhaXno4Hnm5jmlofku7bkuK3jgIIiKV0pLCBfdm0uX3YoIiAiKSwgX2MoJ2xpJywgW192bS5fdigi5b2TUmVkbyBMb2flhpnlhaXnmoTlkIzml7bvvIzkvJrov5vooYxCaW4gTG9n5Yi355uY5pON5L2c77yM5Yi355uY5oiQ5Yqf5ZCO77yM5ZGK55+lUmVkbyBMb2cg5LqL54mp5bey5o+Q5Lqk77yM5bm25ZyoUmVkbyBMb2fkuK3miZPlhaVjb21taXTmoIforrDvvIzku6PooajmlbTkuKrmlbDmja7kuovnianlrozmiJDjgIIiKV0pXSksIF92bS5fdigiICIpLCBfYygnaDInLCB7CiAgICBhdHRyczogewogICAgICAiaWQiOiAicmVkby1sb2ciCiAgICB9CiAgfSwgW19jKCdhJywgewogICAgc3RhdGljQ2xhc3M6ICJoZWFkZXItYW5jaG9yIiwKICAgIGF0dHJzOiB7CiAgICAgICJocmVmIjogIiNyZWRvLWxvZyIKICAgIH0KICB9LCBbX3ZtLl92KCIjIildKSwgX3ZtLl92KCIgUmVkbyBMb2ciKV0pLCBfdm0uX3YoIiAiKSwgX2MoJ3AnLCBbX3ZtLl92KCJSZWRvIExvZ+aYr0lubm9EQuWtmOWCqOW8leaTjueJueacieeahOaXpeW/l+acuuWItu+8jOWAn+WKqeWGheWtmOeahFJlZG8gTG9nIEJ1ZmZlcuWSjOaTjeS9nOezu+e7n+eahFBhZ2UgQ2FjaGXov5vooYxSZWRvIExvZ+eahOWIt+ebmOaTjeS9nOOAgiIpXSksIF92bS5fdigiICIpLCBfYygnaDMnLCB7CiAgICBhdHRyczogewogICAgICAiaWQiOiAi5Yi355uY562W55WlIgogICAgfQogIH0sIFtfYygnYScsIHsKICAgIHN0YXRpY0NsYXNzOiAiaGVhZGVyLWFuY2hvciIsCiAgICBhdHRyczogewogICAgICAiaHJlZiI6ICIj5Yi355uY562W55WlIgogICAgfQogIH0sIFtfdm0uX3YoIiMiKV0pLCBfdm0uX3YoIiDliLfnm5jnrZbnlaUiKV0pLCBfdm0uX3YoIiAiKSwgX2MoJ2RpdicsIHsKICAgIHN0YXRpY0NsYXNzOiAibGFuZ3VhZ2UtU1FMIGxpbmUtbnVtYmVycy1tb2RlIgogIH0sIFtfYygncHJlJywgewogICAgcHJlOiB0cnVlLAogICAgYXR0cnM6IHsKICAgICAgImNsYXNzIjogImxhbmd1YWdlLXNxbCIKICAgIH0KICB9LCBbX2MoJ2NvZGUnLCBbX2MoJ3NwYW4nLCB7CiAgICBwcmU6IHRydWUsCiAgICBhdHRyczogewogICAgICAiY2xhc3MiOiAidG9rZW4gY29tbWVudCIKICAgIH0KICB9LCBbX3ZtLl92KCItLSDmn6XnnIvliLfnm5jnrZbnlaUiKV0pLCBfdm0uX3YoIlxuIiksIF9jKCdzcGFuJywgewogICAgcHJlOiB0cnVlLAogICAgYXR0cnM6IHsKICAgICAgImNsYXNzIjogInRva2VuIGtleXdvcmQiCiAgICB9CiAgfSwgW192bS5fdigic2hvdyIpXSksIF92bS5fdigiIHZhcmlhYmxlcyAiKSwgX2MoJ3NwYW4nLCB7CiAgICBwcmU6IHRydWUsCiAgICBhdHRyczogewogICAgICAiY2xhc3MiOiAidG9rZW4gb3BlcmF0b3IiCiAgICB9CiAgfSwgW192bS5fdigibGlrZSIpXSksIF92bS5fdigiICIpLCBfYygnc3BhbicsIHsKICAgIHByZTogdHJ1ZSwKICAgIGF0dHJzOiB7CiAgICAgICJjbGFzcyI6ICJ0b2tlbiBzdHJpbmciCiAgICB9CiAgfSwgW192bS5fdigiJ2lubm9kYl9mbHVzaF9sb2dfYXRfdHJ4X2NvbW1pdCciKV0pLCBfYygnc3BhbicsIHsKICAgIHByZTogdHJ1ZSwKICAgIGF0dHJzOiB7CiAgICAgICJjbGFzcyI6ICJ0b2tlbiBwdW5jdHVhdGlvbiIKICAgIH0KICB9LCBbX3ZtLl92KCI7IildKSwgX3ZtLl92KCJcbiIpXSldKSwgX3ZtLl92KCIgIiksIF9jKCdkaXYnLCB7CiAgICBzdGF0aWNDbGFzczogImxpbmUtbnVtYmVycy13cmFwcGVyIgogIH0sIFtfYygnc3BhbicsIHsKICAgIHN0YXRpY0NsYXNzOiAibGluZS1udW1iZXIiCiAgfSwgW192bS5fdigiMSIpXSksIF9jKCdicicpLCBfYygnc3BhbicsIHsKICAgIHN0YXRpY0NsYXNzOiAibGluZS1udW1iZXIiCiAgfSwgW192bS5fdigiMiIpXSksIF9jKCdicicpXSldKSwgX2MoJ3AnLCBbX3ZtLl92KCJJbm5vRELnmoRSZWRvIExvZ+WIt+ebmOetlueVpeaciTPnp43vvIzku6PooajkuoblsIZSZWRvIExvZyBCdWZmZXLlhoXlrZjkuK3nmoTmlbDmja7liLflhaXno4Hnm5jnmoTpopHnjociKV0pLCBfdm0uX3YoIiAiKSwgX2MoJ29sJywgW19jKCdsaScsIFtfYygnc3Ryb25nJywgW192bS5fdigiaW5ub2RiX2ZsdXNoX2xvZ19hdF90cnhfY29tbWl0PTAiKV0pLCBfdm0uX3YoIu+8muavj+asoeaPkOS6pOS6i+WKoemDveS4jeWIt+ebmO+8jOiAjOaYr+eUseS4gOS4quWQjuWPsOe6v+eoi+avj+malDFz6L+b6KGMMeasoeaVsOaNruWGmeWFpVBhZ2UgQ2FjaGXlkozliLfnm5jmk43kvZzvvIzov5nnp43nrZbnlaXku43nhLbmnInmlbDmja7kuKLlpLHnmoTpo47pmakiKV0pLCBfdm0uX3YoIiAiKSwgX2MoJ2xpJywgW19jKCdzdHJvbmcnLCBbX3ZtLl92KCJpbm5vZGJfZmx1c2hfbG9nX2F0X3RyeF9jb21taXQ9MSIpXSksIF92bS5fdigi77ya5piv6buY6K6k55qE5Yi355uY562W55Wl77yM5q+P5qyh5o+Q5Lqk5LqL5Yqh6YO95bCG5pys5qyh6K6w5b2V5ZyoUmVkbyBMb2cgQnVmZmVy5Lit55qE5pWw5o2u5YaZ5YWl5pON5L2c57O757uf55qEUGFnZSBDYWNoZeS4re+8jOW5tueri+WIu+i/m+ihjOWIt+ebmOaTjeS9nO+8jOi/meenjeaWueW8j+WPr+S7peS/neivgeaVsOaNruS4gOiHtOaAp+OAgiIpXSksIF92bS5fdigiICIpLCBfYygnbGknLCBbX2MoJ3N0cm9uZycsIFtfdm0uX3YoImlubm9kYl9mbHVzaF9sb2dfYXRfdHJ4X2NvbW1pdD0yIildKSwgX3ZtLl92KCLvvJrmr4/mrKHkuovliqHmj5DkuqTkuYvlkI7pg73miormlbDmja7ku45SZWRvIExvZyBCdWZmZXLlhpnlhaXmk43kvZzns7vnu5/nmoRQYWdlIENhY2hl5Lit77yM55Sx5pON5L2c57O757uf5Yaz5a6a5LuA5LmI5pe25YCZ5YaZ5YWl56OB55uY44CC5aaC5p6c5Ye6546w5pat55S15oiW6ICF5pW05Liq5pyN5Yqh5Zmo5a6V5py677yM5Lmf5Lya5pyJ5pWw5o2u5Lii5aSx55qE6Zeu6aKY44CCIildKV0pLCBfdm0uX3YoIiAiKSwgX2MoJ2gyJywgewogICAgYXR0cnM6IHsKICAgICAgImlkIjogImJpbi1sb2ciCiAgICB9CiAgfSwgW19jKCdhJywgewogICAgc3RhdGljQ2xhc3M6ICJoZWFkZXItYW5jaG9yIiwKICAgIGF0dHJzOiB7CiAgICAgICJocmVmIjogIiNiaW4tbG9nIgogICAgfQogIH0sIFtfdm0uX3YoIiMiKV0pLCBfdm0uX3YoIiBCaW4gTG9nIildKSwgX3ZtLl92KCIgIiksIF9jKCdwJywgW192bS5fdigi5Y+Y5pu05Y6G5Y+y5p+l6K+i44CB5pWw5o2u5oGi5aSN5ZKM5aSH5Lu944CB5Li75LuO5aSN5Yi2IildKV0pOwp9Owp2YXIgc3RhdGljUmVuZGVyRm5zID0gW107CmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH07"},{"version":3,"names":["render","_vm","_c","_self","attrs","$parent","slotKey","staticClass","_v","pre","staticRenderFns"],"sources":["/Users/yanglin/study/lyn/blog/yilyn16.github.io/docs/databases/mysql/一条数据的写入流程.md"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('ContentSlotsDistributor',{attrs:{\"slot-key\":_vm.$parent.slotKey}},[_c('h1',{attrs:{\"id\":\"一条数据是如何写入的\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#一条数据是如何写入的\"}},[_vm._v(\"#\")]),_vm._v(\" 一条数据是如何写入的\")]),_vm._v(\" \"),_c('p',[_vm._v(\"InnoDB作为使用最广的一款引擎，在众多引擎中对可靠性和高性能之间做了平衡，在事物控制、读写效率、并发、索引搜索等方面都有不错的表现。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"InnoDB作为存储引擎，通过执行器对内存和磁盘中的数据进行写入和读取，本章主要看一下数据写入的过程。\")]),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"数据写入流程\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#数据写入流程\"}},[_vm._v(\"#\")]),_vm._v(\" 数据写入流程\")]),_vm._v(\" \"),_c('p',[_c('img',{attrs:{\"src\":\"/images/databases/%E6%95%B0%E6%8D%AE%E5%86%99%E5%85%A5%E6%B5%81%E7%A8%8B.png\",\"alt\":\"数据写入流程\"}})]),_vm._v(\" \"),_c('ol',[_c('li',[_vm._v(\"通过MySQL Server层的SQL接口和SQL解析器，将SQL解析为MySQL能够识别的语句，生成一个解析树；\")]),_vm._v(\" \"),_c('li',[_vm._v(\"然后SQL优化器会对这个SQL语句进行优化，生成执行计划，通过执行器传给InnoDB引擎；\")]),_vm._v(\" \"),_c('li',[_vm._v(\"开始执行后，首先为了让写入数据支持回滚操作，需要把旧的值记录到undo log文件中；\")]),_vm._v(\" \"),_c('li',[_vm._v(\"因为MySQL最终的数据都是存在磁盘中，但是每次写入如果都需要写入磁盘的话，效率就太低了，所以InnoDB将所有的写入请求都写到内存中的Buffer Pool中；\")]),_vm._v(\" \"),_c('li',[_vm._v(\"InnoDB 会有单独的IO线程将 Buffer Pool 中的数据读取出来，然后写入磁盘，这个写入磁盘的过程是通过操作系统的open+write函数写入磁盘的 .idb 文件；\")]),_vm._v(\" \"),_c('li',[_vm._v(\"如果刚写入Buffer Pool，MySQL服务宕机了，那么刚写入Buffer Pool的数据就丢了，如何解决这个问题，此时Redo Log就派上用场了\")]),_vm._v(\" \"),_c('li',[_vm._v(\"当数据写入Buffer Pool完成之后，在InnoDB引擎中将本次的数据请求写入Redo Log Buffer，再由Redo Log Buffer刷入磁盘文件中。\")]),_vm._v(\" \"),_c('li',[_vm._v(\"当Redo Log写入的同时，会进行Bin Log刷盘操作，刷盘成功后，告知Redo Log 事物已提交，并在Redo Log中打入commit标记，代表整个数据事物完成。\")])]),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"redo-log\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#redo-log\"}},[_vm._v(\"#\")]),_vm._v(\" Redo Log\")]),_vm._v(\" \"),_c('p',[_vm._v(\"Redo Log是InnoDB存储引擎特有的日志机制，借助内存的Redo Log Buffer和操作系统的Page Cache进行Redo Log的刷盘操作。\")]),_vm._v(\" \"),_c('h3',{attrs:{\"id\":\"刷盘策略\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#刷盘策略\"}},[_vm._v(\"#\")]),_vm._v(\" 刷盘策略\")]),_vm._v(\" \"),_c('div',{staticClass:\"language-SQL line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-sql\"}},[_c('code',[_c('span',{pre:true,attrs:{\"class\":\"token comment\"}},[_vm._v(\"-- 查看刷盘策略\")]),_vm._v(\"\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"show\")]),_vm._v(\" variables \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"like\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"'innodb_flush_log_at_trx_commit'\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"2\")]),_c('br')])]),_c('p',[_vm._v(\"InnoDB的Redo Log刷盘策略有3种，代表了将Redo Log Buffer内存中的数据刷入磁盘的频率\")]),_vm._v(\" \"),_c('ol',[_c('li',[_c('strong',[_vm._v(\"innodb_flush_log_at_trx_commit=0\")]),_vm._v(\"：每次提交事务都不刷盘，而是由一个后台线程每隔1s进行1次数据写入Page Cache和刷盘操作，这种策略仍然有数据丢失的风险\")]),_vm._v(\" \"),_c('li',[_c('strong',[_vm._v(\"innodb_flush_log_at_trx_commit=1\")]),_vm._v(\"：是默认的刷盘策略，每次提交事务都将本次记录在Redo Log Buffer中的数据写入操作系统的Page Cache中，并立刻进行刷盘操作，这种方式可以保证数据一致性。\")]),_vm._v(\" \"),_c('li',[_c('strong',[_vm._v(\"innodb_flush_log_at_trx_commit=2\")]),_vm._v(\"：每次事务提交之后都把数据从Redo Log Buffer写入操作系统的Page Cache中，由操作系统决定什么时候写入磁盘。如果出现断电或者整个服务器宕机，也会有数据丢失的问题。\")])]),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"bin-log\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#bin-log\"}},[_vm._v(\"#\")]),_vm._v(\" Bin Log\")]),_vm._v(\" \"),_c('p',[_vm._v(\"变更历史查询、数据恢复和备份、主从复制\")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"],"mappings":"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"}]}