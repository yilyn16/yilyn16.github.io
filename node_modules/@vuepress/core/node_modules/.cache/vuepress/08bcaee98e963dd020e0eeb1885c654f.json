{"remainingRequest":"/Users/yanglin/study/lyn/blog/yilyn16.github.io/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/yanglin/study/lyn/blog/yilyn16.github.io/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!/Users/yanglin/study/lyn/blog/yilyn16.github.io/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/yanglin/study/lyn/blog/yilyn16.github.io/node_modules/vue-loader/lib/index.js??ref--1-1!/Users/yanglin/study/lyn/blog/yilyn16.github.io/node_modules/@vuepress/markdown-loader/index.js??ref--1-2!/Users/yanglin/study/lyn/blog/yilyn16.github.io/docs/databases/mysql/一条数据的写入流程.md?vue&type=template&id=a39335fa&","dependencies":[{"path":"/Users/yanglin/study/lyn/blog/yilyn16.github.io/docs/databases/mysql/一条数据的写入流程.md","mtime":1680180919741},{"path":"/Users/yanglin/study/lyn/blog/yilyn16.github.io/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglin/study/lyn/blog/yilyn16.github.io/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglin/study/lyn/blog/yilyn16.github.io/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/yanglin/study/lyn/blog/yilyn16.github.io/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/Users/yanglin/study/lyn/blog/yilyn16.github.io/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglin/study/lyn/blog/yilyn16.github.io/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yanglin/study/lyn/blog/yilyn16.github.io/node_modules/@vuepress/markdown-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIHJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHsKICB2YXIgX3ZtID0gdGhpcywKICAgIF9jID0gX3ZtLl9zZWxmLl9jOwogIHJldHVybiBfYygnQ29udGVudFNsb3RzRGlzdHJpYnV0b3InLCB7CiAgICBhdHRyczogewogICAgICAic2xvdC1rZXkiOiBfdm0uJHBhcmVudC5zbG90S2V5CiAgICB9CiAgfSwgW19jKCdoMScsIHsKICAgIGF0dHJzOiB7CiAgICAgICJpZCI6ICLkuIDmnaHmlbDmja7mmK/lpoLkvZXlhpnlhaVteXNxbOeahCIKICAgIH0KICB9LCBbX2MoJ2EnLCB7CiAgICBzdGF0aWNDbGFzczogImhlYWRlci1hbmNob3IiLAogICAgYXR0cnM6IHsKICAgICAgImhyZWYiOiAiI+S4gOadoeaVsOaNruaYr+WmguS9leWGmeWFpW15c3Fs55qEIgogICAgfQogIH0sIFtfdm0uX3YoIiMiKV0pLCBfdm0uX3YoIiDkuIDmnaHmlbDmja7mmK/lpoLkvZXlhpnlhaVNeVNRTOeahCIpXSksIF92bS5fdigiICIpLCBfYygncCcsIFtfdm0uX3YoIklubm9EQuS9nOS4uuS9v+eUqOacgOW5v+eahOS4gOasvuW8leaTju+8jOWcqOS8l+WkmuW8leaTjuS4reWvueWPr+mdoOaAp+WSjOmrmOaAp+iDveS5i+mXtOWBmuS6huW5s+ihoe+8jOWcqOS6i+eJqeaOp+WItuOAgeivu+WGmeaViOeOh+OAgeW5tuWPkeOAgee0ouW8leaQnOe0ouetieaWuemdoumDveacieS4jemUmeeahOihqOeOsOOAgiIpXSksIF92bS5fdigiICIpLCBfYygncCcsIFtfdm0uX3YoIklubm9EQuS9nOS4uuWtmOWCqOW8leaTju+8jOmAmui/h+aJp+ihjOWZqOWvueWGheWtmOWSjOejgeebmOS4reeahOaVsOaNrui/m+ihjOWGmeWFpeWSjOivu+WPlu+8jOacrOeroOS4u+imgeeci+S4gOS4i+aVsOaNruWGmeWFpeeahOi/h+eoi+OAgiIpXSksIF92bS5fdigiICIpLCBfYygnb2wnLCBbX2MoJ2xpJywgW192bS5fdigi6YCa6L+HTXlTUUwgU2VydmVy5bGC55qEU1FM5o6l5Y+j5ZKMU1FM6Kej5p6Q5Zmo77yM5bCGU1FM6Kej5p6Q5Li6TXlTUUzog73lpJ/or4bliKvnmoTor63lj6XvvIznlJ/miJDkuIDkuKrop6PmnpDmoJHvvJsiKV0pLCBfdm0uX3YoIiAiKSwgX2MoJ2xpJywgW192bS5fdigi54S25ZCOU1FM5LyY5YyW5Zmo5Lya5a+56L+Z5LiqU1FM6K+t5Y+l6L+b6KGM5LyY5YyW77yM55Sf5oiQ5omn6KGM6K6h5YiS77yM6YCa6L+H5omn6KGM5Zmo5Lyg57uZSW5ub0RC5byV5pOO77ybIildKSwgX3ZtLl92KCIgIiksIF9jKCdsaScsIFtfdm0uX3YoIuW8gOWni+aJp+ihjOWQju+8jOmmluWFiOS4uuS6huiuqeWGmeWFpeaVsOaNruaUr+aMgeWbnua7muaTjeS9nO+8jOmcgOimgeaKiuaXp+eahOWAvOiusOW9leWIsHVuZG8gbG9n5paH5Lu25Lit77ybIildKSwgX3ZtLl92KCIgIiksIF9jKCdsaScsIFtfdm0uX3YoIuWboOS4uk15U1FM5pyA57uI55qE5pWw5o2u6YO95piv5a2Y5Zyo56OB55uY5Lit77yM5L2G5piv5q+P5qyh5YaZ5YWl5aaC5p6c6YO96ZyA6KaB5YaZ5YWl56OB55uY55qE6K+d77yM5pWI546H5bCx5aSq5L2O5LqG77yM5omA5LulSW5ub0RC5bCG5omA5pyJ55qE5YaZ5YWl6K+35rGC6YO95YaZ5Yiw5YaF5a2Y5Lit55qEQnVmZmVyIFBvb2zkuK3vvJsiKV0pLCBfdm0uX3YoIiAiKSwgX2MoJ2xpJywgW192bS5fdigiSW5ub0RCIOS8muacieWNleeLrOeahElP57q/56iL5bCGIEJ1ZmZlciBQb29sIOS4reeahOaVsOaNruivu+WPluWHuuadpe+8jOeEtuWQjuWGmeWFpeejgeebmO+8jOi/meS4quWGmeWFpeejgeebmOeahOi/h+eoi+aYr+mAmui/h+aTjeS9nOezu+e7n+eahG9wZW4rd3JpdGXlh73mlbDlhpnlhaXno4Hnm5jnmoQgLmlkYiDmlofku7bvvJsiKV0pLCBfdm0uX3YoIiAiKSwgX2MoJ2xpJywgW192bS5fdigi6Iez5q2k77yM5pWw5o2u5YaZ5YWl5bCx566X5a6M5oiQ5LqG44CCIildKV0pLCBfdm0uX3YoIiAiKSwgX2MoJ3AnLCBbX3ZtLl92KCIhWyIpLCBfYygnaW1nJywgewogICAgYXR0cnM6IHsKICAgICAgInNyYyI6ICIvaW1hZ2VzL2RhdGFiYXNlcy8lRTYlOTUlQjAlRTYlOEQlQUUlRTUlODYlOTklRTUlODUlQTUlRTYlQjUlODElRTclQTglOEIucG5nIiwKICAgICAgImFsdCI6ICLmlbDmja7lhpnlhaXmtYHnqIsiCiAgICB9CiAgfSksIF92bS5fdigiXSIpXSksIF92bS5fdigiICIpLCBfYygnaDMnLCB7CiAgICBhdHRyczogewogICAgICAiaWQiOiAi5aaC5p6c5Zyo5YaZ5YWlYnVmZmVyLXBvb2zkuYvlkI4t6L+Y5rKh5p2l5b6X5Y+K5Yi355uYLWlubm9kYuaYr+aAjuS5iOWBmueahCIKICAgIH0KICB9LCBbX2MoJ2EnLCB7CiAgICBzdGF0aWNDbGFzczogImhlYWRlci1hbmNob3IiLAogICAgYXR0cnM6IHsKICAgICAgImhyZWYiOiAiI+WmguaenOWcqOWGmeWFpWJ1ZmZlci1wb29s5LmL5ZCOLei/mOayoeadpeW+l+WPiuWIt+ebmC1pbm5vZGLmmK/mgI7kuYjlgZrnmoQiCiAgICB9CiAgfSwgW192bS5fdigiIyIpXSksIF92bS5fdigiIOWmguaenOWcqOWGmeWFpUJ1ZmZlciBQb29s5LmL5ZCO77yM6L+Y5rKh5p2l5b6X5Y+K5Yi355uY77yMSW5ub0RC5piv5oCO5LmI5YGa55qE77yfIildKV0pOwp9Owp2YXIgc3RhdGljUmVuZGVyRm5zID0gW107CmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH07"},{"version":3,"names":["render","_vm","_c","_self","attrs","$parent","slotKey","staticClass","_v","staticRenderFns"],"sources":["/Users/yanglin/study/lyn/blog/yilyn16.github.io/docs/databases/mysql/一条数据的写入流程.md"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('ContentSlotsDistributor',{attrs:{\"slot-key\":_vm.$parent.slotKey}},[_c('h1',{attrs:{\"id\":\"一条数据是如何写入mysql的\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#一条数据是如何写入mysql的\"}},[_vm._v(\"#\")]),_vm._v(\" 一条数据是如何写入MySQL的\")]),_vm._v(\" \"),_c('p',[_vm._v(\"InnoDB作为使用最广的一款引擎，在众多引擎中对可靠性和高性能之间做了平衡，在事物控制、读写效率、并发、索引搜索等方面都有不错的表现。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"InnoDB作为存储引擎，通过执行器对内存和磁盘中的数据进行写入和读取，本章主要看一下数据写入的过程。\")]),_vm._v(\" \"),_c('ol',[_c('li',[_vm._v(\"通过MySQL Server层的SQL接口和SQL解析器，将SQL解析为MySQL能够识别的语句，生成一个解析树；\")]),_vm._v(\" \"),_c('li',[_vm._v(\"然后SQL优化器会对这个SQL语句进行优化，生成执行计划，通过执行器传给InnoDB引擎；\")]),_vm._v(\" \"),_c('li',[_vm._v(\"开始执行后，首先为了让写入数据支持回滚操作，需要把旧的值记录到undo log文件中；\")]),_vm._v(\" \"),_c('li',[_vm._v(\"因为MySQL最终的数据都是存在磁盘中，但是每次写入如果都需要写入磁盘的话，效率就太低了，所以InnoDB将所有的写入请求都写到内存中的Buffer Pool中；\")]),_vm._v(\" \"),_c('li',[_vm._v(\"InnoDB 会有单独的IO线程将 Buffer Pool 中的数据读取出来，然后写入磁盘，这个写入磁盘的过程是通过操作系统的open+write函数写入磁盘的 .idb 文件；\")]),_vm._v(\" \"),_c('li',[_vm._v(\"至此，数据写入就算完成了。\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"![\"),_c('img',{attrs:{\"src\":\"/images/databases/%E6%95%B0%E6%8D%AE%E5%86%99%E5%85%A5%E6%B5%81%E7%A8%8B.png\",\"alt\":\"数据写入流程\"}}),_vm._v(\"]\")]),_vm._v(\" \"),_c('h3',{attrs:{\"id\":\"如果在写入buffer-pool之后-还没来得及刷盘-innodb是怎么做的\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#如果在写入buffer-pool之后-还没来得及刷盘-innodb是怎么做的\"}},[_vm._v(\"#\")]),_vm._v(\" 如果在写入Buffer Pool之后，还没来得及刷盘，InnoDB是怎么做的？\")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"],"mappings":"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"}]}