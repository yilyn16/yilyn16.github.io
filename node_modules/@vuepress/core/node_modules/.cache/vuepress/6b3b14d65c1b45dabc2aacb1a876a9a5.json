{"remainingRequest":"/Users/yanglin/study/lyn/blog/yilyn16.github.io/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yanglin/study/lyn/blog/yilyn16.github.io/node_modules/vuepress-plugin-right-anchor/RightAnchor.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yanglin/study/lyn/blog/yilyn16.github.io/node_modules/vuepress-plugin-right-anchor/RightAnchor.vue","mtime":499162500000},{"path":"/Users/yanglin/study/lyn/blog/yilyn16.github.io/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglin/study/lyn/blog/yilyn16.github.io/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/yanglin/study/lyn/blog/yilyn16.github.io/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglin/study/lyn/blog/yilyn16.github.io/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB0aHJvdHRsZSBmcm9tICJsb2Rhc2gudGhyb3R0bGUiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJyaWdodC1hbmNob3IiLAogIHByb3BzOiB7CiAgICBnbG9iYWw6IEJvb2xlYW4KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsaXN0RGF0YTogW10sCiAgICAgIGFjdGl2ZUluZGV4OiBudWxsLAogICAgICBvcGVuZWQ6IGZhbHNlCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgICIkcGFnZS5yZWd1bGFyUGF0aCIoKSB7CiAgICAgIHRoaXMuZmlsdGVyRGF0YUJ5TGV2ZWwoKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICB2aXNpYmxlKCkgewogICAgICByZXR1cm4gKAogICAgICAgIHRoaXMubGlzdERhdGEgJiYKICAgICAgICB0aGlzLmxpc3REYXRhLmxlbmd0aCAmJgogICAgICAgICEodGhpcy5yaWdodEFuY2hvck9wdGlvbnMuZGlzYWJsZUdsb2JhbFVJICYmIHRoaXMuZ2xvYmFsKQogICAgICApOwogICAgfSwKICAgIHJpZ2h0QW5jaG9yT3B0aW9ucygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHBhZ2UucmlnaHRBbmNob3I7CiAgICB9LAogICAgZXhwYW5kT3B0aW9ucygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHBhZ2UucmlnaHRBbmNob3I/LmV4cGFuZDsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIG1vdXNlb3ZlcigpIHsKICAgICAgaWYgKHRoaXMuZXhwYW5kT3B0aW9ucy50cmlnZ2VyID09PSAiaG92ZXIiKSB7CiAgICAgICAgdGhpcy5vcGVuZWQgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgbW91c2VsZWF2ZSgpIHsKICAgICAgaWYgKHRoaXMuZXhwYW5kT3B0aW9ucy50cmlnZ2VyID09PSAiaG92ZXIiKSB7CiAgICAgICAgdGhpcy5vcGVuZWQgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGJ0bkNsaWNrKCkgewogICAgICBpZiAodGhpcy5leHBhbmRPcHRpb25zLnRyaWdnZXIgPT09ICJjbGljayIpIHsKICAgICAgICB0aGlzLm9wZW5lZCA9ICF0aGlzLm9wZW5lZDsKICAgICAgfQogICAgfSwKICAgIGl0ZW1DbGljayhpbmRleCwgc2x1ZykgewogICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gaW5kZXg7CgogICAgICB3aW5kb3cuc2Nyb2xsVG8oewogICAgICAgIHRvcDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2x1Zyk/Lm9mZnNldFRvcCB8fCAwLAogICAgICAgIGJlaGF2aW9yOiAic21vb3RoIgogICAgICB9KTsKICAgIH0sCiAgICBmaWx0ZXJEYXRhQnlMZXZlbCgpIHsKICAgICAgdGhpcy5saXN0RGF0YSA9IFtdOwoKICAgICAgY29uc3QgeyBoZWFkZXJzIH0gPSB0aGlzLiRwYWdlOwogICAgICBjb25zdCB7IGlzSWdub3JlLCBzaG93RGVwdGggfSA9IHRoaXMucmlnaHRBbmNob3JPcHRpb25zOwoKICAgICAgaWYgKGlzSWdub3JlIHx8IHNob3dEZXB0aCA9PT0gMCB8fCAhaGVhZGVycykgcmV0dXJuOwoKICAgICAgaWYgKCFzaG93RGVwdGgpIHsKICAgICAgICB0aGlzLmxpc3REYXRhID0gWy4uLmhlYWRlcnNdOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubGlzdERhdGEgPSBoZWFkZXJzLmZpbHRlcihpdGVtID0+IGl0ZW0ubGV2ZWwgPD0gc2hvd0RlcHRoICsgMSk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRTY3JvbGxUb3AoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgd2luZG93LnBhZ2VZT2Zmc2V0IHx8CiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fAogICAgICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wIHx8CiAgICAgICAgMAogICAgICApOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZmlsdGVyRGF0YUJ5TGV2ZWwoKTsKCiAgICBpZiAodGhpcy5leHBhbmRPcHRpb25zPy50cmlnZ2VyID09PSAiY2xpY2siKSB7CiAgICAgIHRoaXMub3BlbmVkID0gdGhpcy5leHBhbmRPcHRpb25zPy5jbGlja01vZGVEZWZhdWx0T3BlbjsKICAgIH0KCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigKICAgICAgInNjcm9sbCIsCiAgICAgIHRocm90dGxlKCgpID0+IHsKICAgICAgICBjb25zdCBzY3JvbGxUb3AgPSB0aGlzLmdldFNjcm9sbFRvcCgpOwoKICAgICAgICB0aGlzLmxpc3REYXRhLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7CiAgICAgICAgICBjb25zdCBlbE9mZnNldFRvcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGl0ZW0uc2x1Zyk/Lm9mZnNldFRvcDsKICAgICAgICAgIGlmIChlbE9mZnNldFRvcCkgewogICAgICAgICAgICBpZiAoaW5kZXggPT09IDAgJiYgc2Nyb2xsVG9wIDwgZWxPZmZzZXRUb3ApIHRoaXMuYWN0aXZlSW5kZXggPSAwOwogICAgICAgICAgICBlbHNlIGlmIChzY3JvbGxUb3AgPj0gZWxPZmZzZXRUb3ApIHRoaXMuYWN0aXZlSW5kZXggPSBpbmRleDsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSwgMTAwKQogICAgKTsKICB9Cn07Cg=="},{"version":3,"sources":["RightAnchor.vue"],"names":[],"mappings":";AAwCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RightAnchor.vue","sourceRoot":"node_modules/vuepress-plugin-right-anchor","sourcesContent":["<template>\n  <div\n    v-if=\"visible\"\n    class=\"ra-wrapper\"\n    :class=\"[rightAnchorOptions.customClass, global && 'is-global']\"\n    @mouseover=\"mouseover\"\n    @mouseleave=\"mouseleave\"\n  >\n    <div class=\"ra-button\" @click=\"btnClick\">\n      <svg\n        class=\"icon\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        aria-hidden=\"true\"\n        role=\"img\"\n        viewBox=\"0 0 448 512\"\n      >\n        <path\n          fill=\"currentColor\"\n          d=\"M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z\"\n          class\n        />\n      </svg>\n    </div>\n    <ul v-show=\"opened\" class=\"ra-menu\">\n      <li\n        class=\"ra-menu-item\"\n        v-for=\"(item, index) in listData\"\n        :key=\"index\"\n        @click=\"itemClick(index, item.slug)\"\n        :class=\"[\n          index === activeIndex ? 'active' : '',\n          item.level > 2 ? 'sub' : '',\n          `h${item.level}`,\n        ]\"\n      >{{ item.title }}</li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport throttle from \"lodash.throttle\";\n\nexport default {\n  name: \"right-anchor\",\n  props: {\n    global: Boolean\n  },\n  data() {\n    return {\n      listData: [],\n      activeIndex: null,\n      opened: false\n    };\n  },\n  watch: {\n    \"$page.regularPath\"() {\n      this.filterDataByLevel();\n    }\n  },\n  computed: {\n    visible() {\n      return (\n        this.listData &&\n        this.listData.length &&\n        !(this.rightAnchorOptions.disableGlobalUI && this.global)\n      );\n    },\n    rightAnchorOptions() {\n      return this.$page.rightAnchor;\n    },\n    expandOptions() {\n      return this.$page.rightAnchor?.expand;\n    }\n  },\n  methods: {\n    mouseover() {\n      if (this.expandOptions.trigger === \"hover\") {\n        this.opened = true;\n      }\n    },\n    mouseleave() {\n      if (this.expandOptions.trigger === \"hover\") {\n        this.opened = false;\n      }\n    },\n    btnClick() {\n      if (this.expandOptions.trigger === \"click\") {\n        this.opened = !this.opened;\n      }\n    },\n    itemClick(index, slug) {\n      this.activeIndex = index;\n\n      window.scrollTo({\n        top: document.getElementById(slug)?.offsetTop || 0,\n        behavior: \"smooth\"\n      });\n    },\n    filterDataByLevel() {\n      this.listData = [];\n\n      const { headers } = this.$page;\n      const { isIgnore, showDepth } = this.rightAnchorOptions;\n\n      if (isIgnore || showDepth === 0 || !headers) return;\n\n      if (!showDepth) {\n        this.listData = [...headers];\n      } else {\n        this.listData = headers.filter(item => item.level <= showDepth + 1);\n      }\n    },\n    getScrollTop() {\n      return (\n        window.pageYOffset ||\n        document.documentElement.scrollTop ||\n        document.body.scrollTop ||\n        0\n      );\n    }\n  },\n  mounted() {\n    this.filterDataByLevel();\n\n    if (this.expandOptions?.trigger === \"click\") {\n      this.opened = this.expandOptions?.clickModeDefaultOpen;\n    }\n\n    window.addEventListener(\n      \"scroll\",\n      throttle(() => {\n        const scrollTop = this.getScrollTop();\n\n        this.listData.forEach((item, index) => {\n          const elOffsetTop = document.getElementById(item.slug)?.offsetTop;\n          if (elOffsetTop) {\n            if (index === 0 && scrollTop < elOffsetTop) this.activeIndex = 0;\n            else if (scrollTop >= elOffsetTop) this.activeIndex = index;\n          }\n        });\n      }, 100)\n    );\n  }\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n$rightAnchorBgColor ?= #fff;\n$rightAnchorTextColor ?= $textColor;\n$rightAnchorFontSize ?= 14px;\n// btn\n$rightAnchorBtnTextColor ?= $rightAnchorTextColor;\n$rightAnchorBtnBgColor ?= $rightAnchorBgColor;\n// menu\n$rightAnchorMenuTextColor ?= $rightAnchorTextColor;\n\n.ra {\n  &-wrapper {\n    display: flex;\n    flex-direction: column;\n    margin: 0;\n    max-height: 75vh;\n    min-width: 140px;\n\n    &.is-global {\n      position: fixed;\n      top: $navbarHeight;\n      right: 0;\n      z-index: 1;\n\n      .ra-menu {\n        align-items: center;\n      }\n    }\n  }\n\n  &-button {\n    position: absolute;\n    right: 0.2rem;\n    padding: 0.6rem;\n    margin: 0.2rem;\n    width: 1.75rem;\n    height: 1.75rem;\n    color: $rightAnchorBtnTextColor;\n    background-color: $rightAnchorBtnBgColor;\n    border-radius: 4px;\n    cursor: pointer;\n\n    .icon {\n      width: 1.75rem;\n      height: 1.75rem;\n    }\n\n    &:hover {\n      color: $accentColor;\n    }\n  }\n\n  &-menu {\n    padding: 12px 0 12px 0;\n    background-color: $rightAnchorBgColor;\n    border-left: 1px solid $borderColor;\n    font-size: $rightAnchorFontSize;\n    overflow-y: auto;\n    max-height: calc(100% - 1.75rem - 0.6rem * 2 + 0.2rem * 2);\n    margin: calc(1.75rem + 0.6rem * 2 + 0.2rem * 2) 0 0 0;\n\n    &-item {\n      display: block;\n      padding: 4px 12px 4px 0;\n      margin-left: -1px;\n      text-decoration: none;\n      display: block;\n      cursor: pointer;\n      color: $rightAnchorMenuTextColor;\n\n      &.h1 {\n        padding-left: 2px;\n        font-weight: bold;\n        font-size: $rightAnchorFontSize + 2px;\n        text-align: center;\n      }\n\n      &.h2 {\n        padding-left: 16px;\n        font-weight: bold;\n      }\n\n      &.sub {\n        padding-top: 2px;\n        padding-bottom: 2px;\n\n        &.h3 {\n          padding-left: 24px;\n        }\n\n        &.h4 {\n          padding-left: 32px;\n        }\n\n        &.h5 {\n          padding-left: 40px;\n        }\n\n        &.h6 {\n          padding-left: 48px;\n        }\n      }\n\n      &:hover, &.active {\n        color: $accentColor;\n        border-left: 2px solid $accentColor;\n        padding-left: 22px;\n\n        &.h1 {\n          padding-left: 0px;\n        }\n\n        &.h2 {\n          padding-left: 14px;\n        }\n\n        &.sub {\n          &.h3 {\n            padding-left: 22px;\n          }\n\n          &.h4 {\n            padding-left: 30px;\n          }\n\n          &.h5 {\n            padding-left: 38px;\n          }\n\n          &.h6 {\n            padding-left: 46px;\n          }\n        }\n      }\n    }\n  }\n\n  @media (max-width: $MQMobile) {\n    .ra-wrapper {\n      display: none;\n    }\n  }\n}\n</style>\n"]}]}